expeditor:
  defaults:
    buildkite:
      timeout_in_minutes: 30

steps:
#######################################################################
# Linting!
#######################################################################

  - label: "[lint] :windows: :paperclip: clippy!"
    command:
      - .\test\run_clippy.ps1 .\test\unexamined_lints.txt .\test\allowed_lints.txt .\test\lints_to_fix.txt .\test\denied_lints.txt
    agents:
      queue: 'default-windows-privileged'
    plugins:
      docker#v3.2.0:
        image: "chefes/buildkite-windows"
        shell: [ "powershell", "-Command" ]
        always-pull: true
        propagate-environment: true
    timeout_in_minutes: 40
